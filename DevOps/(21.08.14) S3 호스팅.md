# S3 호스팅

***

## 버킷 생성 및 정적 웹 사이트 호스팅용으로 구성

### 1. 버킷 생성
- S3 메뉴에서 '버킷 만들기' 클릭

- 버킷 이름 입력 후 리전을 서울로 선택

- 버킷 만들기 클릭

### 2. S3 버킷의 호스팅 메뉴
- 생성된 버킷 클릭 후 속성 메뉴 들어간 후, '정적 웹 사이트 호스팅' 란으로 이동

- 정적 웹 사이트 호스팅 '활성화' 선택

- 호스팅 유형 : 정적 웹 사이트 호스팅

- 인덱스 문서 : index.html

- 오류 문서 (선택사항) : index.html

***

## 빌드된 정적 웹 페이지 업로드

### 1. 빌드 전 환경 변수 설정
- .env 파일에 내용 정확히 입력하기 (서버 URL 등)

### 2. 빌드 진행
- 리액트 빌드 명령어 : ```npm run build```

### 3. 빌드 파일 업로드
- S3에서 '객체' 메뉴로 이동

- 빌드된 파일 업로드

***

## 퍼블릭 액세스 차단 해제 및 정책 생성

### 1. 퍼블릭 엑세스 차단 해제
- 권한 메뉴로 이동

- 퍼블릭 엑세스 차단 (버킷 설정) 란으로 이동

- '편집' 클릭 후 '모든 퍼블릭 엑세스 차단' 체크박스 해제

- '변경 사항 저장' 클릭

### 2. 버킷 정책 생성
- '버킷 정책' 란으로 이동하여 '편집' 클릭

- '정책 생성기' 클릭

- 정책 입력 후 'Add Statement' 클릭
  - Select Type of Policy : S3 Bucket Policy

  - Effect : Allow

  - Principal : *

  - Action : GetObject 선택

  - Amazon Resource Name : arn:aws:s3:::버킷이름/*

- Generate Policy 클릭 후 생성된 정책 내용 복사

- 다시 버킷 정책 편집 페이지로 돌아가서 생성한 버킷 정책을 붙여 넣고, '변경 사항 저장' 버튼을 클릭
