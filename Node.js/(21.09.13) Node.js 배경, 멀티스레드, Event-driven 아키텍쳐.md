# Node.js 등장 배경, 멀티스레드, Event-driven 아키텍쳐

**

## Node.js의 등장 배경

### 1. 웹 등장 초기 상황
- 웹이 등장한 이후 HTML 수동 타이핑에 지쳤고, 방문자가 글을 올리게 하고 싶음

- 하지만 방문자가 HTML 파일을 직접 수정하는 것은 위험했고, 웹 사이트 소유자만이 콘텐츠 추가 가능

### 2. Node.js와 JavaScript
- JavaScript : 1995년 네츠케이프에서 만들었고, 웹 브라우저를 제어하는 프로그래밍 언어

- 웹 개발자들이 JavaScript를 통해 웹 이상을 개발할 필요성 대두

- Node.js : 구글에서 v8 엔진을 오픈소스를 공개하고, 라이언 달은 2008년 이를 기반으로 Node.js 만듬

- Node.js를 통해 기존 JavaScript로 웹 이상을 제어할 수 있게 됨

### 3. Node.js 기능
- Node.js 또한 Apache 처럼 웹 서버로 사용 가능 (웹 서버 기능 내장)

***

## Synchronous execution과 Asynchronous execution의 차이점

### 1. Synchronous execution (동기적 실행)
- 한 작업이 끝남과 동시에 다음 작업이 실행되는 실행 방식을 의미

- 함수 A가 실행이 완료되자마자 함수 B가 연속으로 실행

- 싱글 스레드에서 동기적 실행 : 한 번에 하나씩 작업
```js
1 thread ->   |<---A---->||<----B---------->||<------C----->|
```

- 멀티 스레드에서 동기적 실행 : 여기서도 한 번에 하나씩 작업
```js
thread A -> |<---A---->|   
                        \  
thread B ------------>   ->|<----B---------->|   
                                              \   
thread C ---------------------------------->   ->|<------C----->|
```

### 2. Asynchronous execution (비동기적 실행)
- 한 작업이 끝나기 전에 다른 작업을 수행할 수 있음

- 함수 A가 실행중인데, 함수 B가 실행

- 싱글 스레드에서 비동기적 실행 : 한 스레드에서 여러 작업을 수행할 수는 있지만, 결국 한 번에 여러 작업을 수행할 수는 없음

- 멀티 스레드에서 비동기적 실행 : 여러 작업이 비동기로 실행되는 경우 여러 스레드가 동시에 작업을 할 수 있음
```js
thread A ->     |<---A---->|
thread B ----->     |<----B---------->| 
thread C --------->     |<------C--------->|
```

***

## Node.js와 JavaScript 엔진

### 1. Node.js 
- Node.js 또는 브라우저 자체는 멀티스레드

- 모든 자바스크립트 코드가 자바스크립트 엔진에서 싱글 스레드 방식으로만 동작한다면 자바스크립트는 비동기로 동작할 수 없음

### 2. JavaScript 엔진
- Node.js 또는 브라우저에 내장된 JavaScript 엔진은 싱글스레드

- 자바스크립트를 실행하는 부분에서만 싱글스레드로 구성되어있고, 이 때의 작업 동시성은 이벤트 루프를 통해서 구현할 수 있음

***

## Node.js와 Event-driven architecture

### 1. Event-driven architecture
- 시시각각 발생하는 이벤트의 생성과 감지, 소비 및 시스템 상태의 중대한 변화를 지원하는 소프트웨어의 모델 혹은 아키텍처 패러다임

### 2. Node.js는 Event-driven architecture
- Node.js에는 HTML 요소가 없기 때문에 대부분의 event는 프로세스, 네트워크, 파일과의 상호 작용 등에서 비롯됨

- 따라서 Node.js 는 event-driven architecture라 할 수 있음