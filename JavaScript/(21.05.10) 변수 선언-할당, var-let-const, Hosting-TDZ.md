# 변수 선언-초기화-할당, var-let-const, Hosting-TDZ

***

## 변수 기초
- 변수 : 데이터를 담는 메모리

- 표현식(expression) : 변수를 이용해 값을 계산한 식
  ```js
  let sum = 1;
  sum = sum + 2;
  sum = sum + 3;
  ```

***

## 선언, 초기화, 할당

### 1. 변수 선언 (Declaration)
- 실행 컨텍스트의 변수 객체에 변수를 등록하는 단계를 의미 (보관함 확보)

- 이 변수 객체는 스코프가 참조하는 대상

- 즉 스코프에 변수를 등록하는 단계이며 이 단계에서 호이스팅이 일어남

```js
let age;
```

### 2. 변수 초기화 (Initialization)
- 실행 컨텍스트에 존재하는 변수 객체에 선언 단계의 변수를 위한 메모리를 만드는 단계

- 이 단계에서 할당된 메모리에 undefined로 초기화 됨

### 3. 변수 할당 (Assignment)
- undefined로 초기화 된 메모리에 다른 값을 넣는 것 (보관함에 데이터 저장)
```js
age = 12;
```
```js
let name = 'kim';
```
```js
let abc=123, bcd=456
```

***

## let, const, var 키워드

<img width="500" alt="스크린샷 2021-05-28 오전 11 39 02" src="https://user-images.githubusercontent.com/80403988/119929987-8a97ef00-bfb9-11eb-8563-f7ee945d22d0.png">

### 1. var
- var은 블록 스코프를 무시하고 함수 스코프만 따름 (이전 방식)

- var은 키워드 재선언 가능

### 2. let  
- 블록 단위로 스코프를 구분할 수 있게 var보다 let을 추천

- let은 재선언 불가능. 재할당은 가능

### 3. const
- const는 재할당 불가능

***

## 변수 선언에서 주의할 점

### 1. window 객체

- window 객체는 브라우저 창을 대표하는 객체이며 동시에 전역 항목도 담고 있음

- var로 선언된 전역 변수와 전역 함수가 window 객체에 속함

### 2. 전역 변수 최소화 하기

- 전역 변수가 많으면 다른 함수 로직에 의해 의도되지 않은 변경이 발생할 수 있음

- 부수 효과(side effect) 발생

### 3. var 키워드의 위험성 : let과 const를 주로 사용하기

- 블록 스코프를 무시하며 재선언을 해도 에러가 나지 않음

- var로 선언한 전역 변수가 window기능을 덮어씌워서 내장 기능을 사용하지 못하게 만들 수 있음

### 4. 선언 키워드(var, let, const) 없는 변수 할당 금지

- 선언을 하지 않은 변수에 할당을 하면 마치 var로 선언된 전역 변수처럼 작동할 수 있음

- ```use strict;```을 입력해 strict mode로 작동시키면 선언 없는 변수 할당이 불가능해짐
  
***

## 호이스팅과 일시적 사각지대(TDZ)

### 1. 호이스팅 (Hoisting)
- JavaScript에서는 var, let, const, function, class 키워드 등을 사용해서 선언하는 모든 식별자(변수, 함수, 클래스 등)가 존재

- 모든 식별자들이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징

### 2. 선언 단계와 초기화 단계의 분리

- var : 선언 단계와 함께 undefined로 초기화되므로 초기화 코드를 만나기 전부터 참조가 가능

- let, const로 선언된 변수는 선언 단계와 초기화 단계가 분리되어 진행
  
  - 스코프에 변수를 등록하지만, 초기화 단계는 변수 선언문 코드에 도달했을때 이루어짐

  - 때문에 초기화 이전에 변수에 접근하려고 하면 참조 에러(Reference Error)가 발생

### 3. 일시적 사각지대 (Temporal Dead Zone)

- TDZ : 일시적인 사각지대로서 스코프의 시작 지점부터 초기화 시작 지점까지의 구간

- let, const로 선언 시 스코프의 시작 지점부터 초기화 시작 지점까지는 변수를 참조할 수 없는 구간 생김

- let과 const는 호이스팅이 되기는 하지만 초기화가 이루어지지 않은 상태 (Uninitialized)에서 호이스팅이 되어, TDZ로 인해 참조에러 발생

- var은 선언과 동시에 초기화가 이루어지기 때문에, 호이스팅 시 TDZ가 발생하지 않으며 undefined 반환
